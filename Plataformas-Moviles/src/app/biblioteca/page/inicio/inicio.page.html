<ion-header [translucent]="true">
  <app-header></app-header>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-content class="ion-padding">
    <ion-header>
      <ion-toolbar>
        <ion-title>Catalogo</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-button expand="block" (click)="setOpen(true)"
      >Agregar Producto</ion-button
    >
    <ion-modal [isOpen]="isModalOpen">
      <ng-template>
        <ion-header>
          <ion-toolbar>
            <ion-title>Modal</ion-title>
            <ion-buttons slot="end">
              <ion-button (click)="setOpen(false)">Close</ion-button>
            </ion-buttons>
          </ion-toolbar>
        </ion-header>
        <ion-content class="ion-padding">
          <form id="formulario" [formGroup]="form" (ngSubmit)="onSubmit()">
            <label>
              TÃ­tulo:
              <input
                class="form-control"
                type="text"
                formControlName="titulo"
                required=""
              />
            </label>
            <label>
              Receta:
              <input
                class="form-control"
                type="text"
                formControlName="receta"
              />
            </label>
            <label>
              URL de la imagen:
              <input
                class="form-control"
                type="text"
                formControlName="url_imagen"
                required=""
              />
            </label>
            <label>
              Pagina de compra:
              <input
                class="form-control"
                type="text"
                formControlName="url_compra"
                required=""
              />
            </label>
            <button class="btn btn-primary" type="submit">
              Agregar producto
            </button>
          </form>
        </ion-content>
      </ng-template>
    </ion-modal>

    <div class="row">
      <div *ngFor="let producto of productos" class="col">
        <div class="card" style="width: 9.5rem">
          <img [src]="producto.url_imagen" class="card-img-top" alt="..." />
          <div class="card-body">
            <h5 class="card-title">{{producto.titulo}}</h5>
            <p class="card-text">{{producto.receta}}</p>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item">
              <button
                class="btn btn-danger"
                (click)="eliminarProducto(producto.id)"
              >
                Eliminar
              </button>
            </li>
            <li class="list-group-item">
              <button
                class="btn btn-primary"
                (click)="actualizarProducto(producto.id)"
              >
                Editar
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </ion-content>
</ion-content>
